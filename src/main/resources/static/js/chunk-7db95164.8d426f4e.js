(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7db95164"],{6622:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("系统管理")]),a("el-breadcrumb-item",[e._v("角色管理")])],1),a("el-card",[a("el-row",[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.dialogAddRole=!0}}},[e._v("添加角色")])],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"角色ID",width:"70"}}),a("el-table-column",{attrs:{label:"角色名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"角色备注"}}),a("el-table-column",{attrs:{width:"150",label:"角色操作","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:1===t.id,size:"mini",type:"primary"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteRow(t.row)}}},[e._v("删除 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加角色",visible:e.dialogAddRole},on:{"update:visible":function(t){e.dialogAddRole=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRoleRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"角色说明"}},[a("el-input",{model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAddRole=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addRole(e.addForm)}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑角色",visible:e.dialogUpdateRole},on:{"update:visible":function(t){e.dialogUpdateRole=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.updateForm}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),a("el-form-item",{attrs:{label:"角色说明"}},[a("el-input",{model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUpdateRole=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateRole(e.updateForm)}}},[e._v("确 定")])],1)],1)],1)},l=[],r=(a("b0c0"),{name:"Role",data:function(){return{tableData:[],multipleSelection:[],dialogAddRole:!1,dialogUpdateRole:!1,updateForm:{name:"",remark:""},addForm:{id:"",name:"",remark:""},addRoleRules:{name:[{required:!0,message:"角色名称",trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"}]},formLabelWidth:"120px"}},methods:{addRole:function(e){var t=this;this.$refs.addForm.validate((function(a){a?(t.dialogAddRole=!1,t.$axios.post("role/add",t.addForm).then((function(e){console.log(e.data),200===e.data.code?(t.$notify.success({title:"添加成功",message:e.data.code}),t.$refs.addForm.resetFields(),t.initPage()):t.$notify.warning({title:"添加失败",message:e.data.message})})),console.log(e)):t.$message.warning("请正确输入")}))},editRow:function(e){this.dialogUpdateRole=!0,this.updateForm.name=e.name,this.updateForm.id=e.id,this.updateForm.remark=e.remark},updateRole:function(e){var t=this;console.log(e),this.$axios.put("role/update",e).then((function(e){200===e.data.code?(t.$notify.success({title:"成功",message:e.data.message}),t.initPage()):t.$notify.error({title:"失败",message:e.data.message})})),this.dialogUpdateRole=!1},deleteRow:function(e){var t=this;console.log(e),this.$confirm("是否删除？","提示").then((function(a){t.$axios.delete("role/delete/"+e.id).then((function(e){200===e.data.code?(t.initPage(),t.$notify.success({title:"删除成功",message:e.data.message})):t.$notify.warning({title:"删除失败",message:e.data.message})}))})).catch((function(a){t.$notify.info({title:"取消删除",message:e.name})}))},initPage:function(){var e=this;this.$axios.get("role/queryAll").then((function(t){console.log(t.data),e.tableData=t.data.data}))}},created:function(){this.initPage()}}),i=r,n=a("2877"),d=Object(n["a"])(i,o,l,!1,null,"8aeb73a0",null);t["default"]=d.exports},b0c0:function(e,t,a){var o=a("83ab"),l=a("9bf2").f,r=Function.prototype,i=r.toString,n=/^\s*function ([^ (]*)/,d="name";o&&!(d in r)&&l(r,d,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-7db95164.8d426f4e.js.map