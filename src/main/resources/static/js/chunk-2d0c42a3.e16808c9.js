(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c42a3"],{"3a54":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("新闻管理")]),a("el-breadcrumb-item",[t._v("类别管理")])],1),a("el-card",[a("el-row",[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.dialogAdd=!0}}},[t._v("添加类别")])],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"类别ID",width:"70"}}),a("el-table-column",{attrs:{label:"类别名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),a("el-table-column",{attrs:{width:"150",label:"栏目操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加类别",visible:t.dialogAdd},on:{"update:visible":function(e){t.dialogAdd=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogAdd=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addTag(t.addForm)}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑类别",visible:t.dialogUpdate},on:{"update:visible":function(e){t.dialogUpdate=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.updateRow}},[a("el-form-item",{attrs:{label:"列别名称",prop:"name"}},[a("el-input",{model:{value:t.updateRow.name,callback:function(e){t.$set(t.updateRow,"name",e)},expression:"updateRow.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogUpdate=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateName()}}},[t._v("确 定")])],1)],1)],1)},l=[],d={name:"newTag",data:function(){return{tableData:[],dialogAdd:!1,addForm:{name:null},addRules:{name:[{required:!0,message:"请输入类别名",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}]},dialogUpdate:!1,updateRow:{}}},methods:{addTag:function(t){var e=this;this.$refs.addForm.validate((function(a){a?(e.$axios.post("category/add",t).then((function(t){200===t.data.code?(e.$notify.success({title:"成功"+t.data.code,message:t.data.message}),e.selectAll()):e.$notify.warning({title:"失败"+t.data.code,message:t.data.message})})),e.dialogAdd=!1):e.$message.warning("请正确输入!")}))},selectAll:function(){var t=this;this.$axios.get("category/queryAll").then((function(e){200===e.data.code&&(t.tableData=e.data.data)}))},editRow:function(t){this.updateRow=JSON.parse(JSON.stringify(t)),this.dialogUpdate=!0},deleteRow:function(t){var e=this;this.$axios.delete("category/delete/"+t.id).then((function(t){200===t.data.code?(e.$notify.success({title:"成功"+t.data.code,message:t.data.message}),e.selectAll()):e.$notify.warning({title:"失败"+t.data.code,message:t.data.message})}))},updateName:function(){var t=this;this.$axios.put("category/update",this.updateRow).then((function(e){200===e.data.code?(t.$notify.success({title:"成功"+e.data.code,message:e.data.message}),t.selectAll()):t.$notify.warning({title:"失败"+e.data.code,message:e.data.message}),t.dialogUpdate=!1}))}},created:function(){this.selectAll()}},i=d,n=a("2877"),s=Object(n["a"])(i,o,l,!1,null,"667c30c3",null);e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d0c42a3.e16808c9.js.map