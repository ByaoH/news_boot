(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df2c5"],{"897e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("个人管理")]),a("el-breadcrumb-item",[e._v("发布文章")])],1),a("el-card",[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),a("el-form-item",{attrs:{label:"所属类别",prop:"category.id"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.addForm.category.id,callback:function(t){e.$set(e.addForm.category,"id",t)},expression:"addForm.category.id"}},e._l(e.categorys,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{clearable:"",type:"textarea"},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addNew()}}},[e._v("发布")])],1)],1)],1)},d=[],s={name:"Push",data:function(){return{myUser:JSON.parse(sessionStorage.getItem("user")),addForm:{title:null,category:{id:null},user:{id:null},content:null},addRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 50 个字符",trigger:"blur"}],category:{id:[{required:!0,message:"请选择类别",trigger:"change"}]},user:{id:[{required:!0,message:"请输入用户id",trigger:"blur"}]},content:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,message:"最少三个字符",trigger:"blur"}],categorys:[]},categorys:null}},methods:{addNew:function(){var e=this;this.$refs.addForm.validate((function(t){t?(e.$axios.post("new/add",e.addForm).then((function(t){200===t.data.code?(e.$notify.success({title:"新增成功:"+t.data.code,message:t.data.message}),e.$refs.addForm.resetFields()):e.$notify.warning({title:"新增失败:"+t.data.code,message:t.data.message})})),e.dialogAddNew=!1):e.$message.error("请正确输入")}))}},created:function(){var e=this;this.$axios.get("category/queryAll").then((function(t){200===t.data.code&&(e.categorys=t.data.data)})),console.log(this.myUser),this.addForm.user.id=this.myUser.id}},o=s,l=a("2877"),i=Object(l["a"])(o,r,d,!1,null,"3560a8f7",null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0df2c5.39d1cade.js.map